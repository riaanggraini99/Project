{% extends 'layout_admin.html' %}

{% block content %}

<div class="container">
    <ul class="errors">
    </ul>
    <form id="form1" enctype="multipart/form-data">
      <h1>	Add New Car here</h1>
      <div class="form-group"></div>
      <label for="name">Name:</label>
      <input id="name" type="text" placeholder="Enter Name" name="name" class="form-control"/>
      <div class="form-group"></div>
      <label for="type">Type:</label>
      <input id="type" type="text" placeholder="Enter Type" name="type" class="form-control"/>
      <div class="form-group"></div>
      <label for="seat">Seat:</label>
      <input id="seat" type="text" placeholder="Enter Seat" name="seat" class="form-control"/>
      <div class="form-group"></div>

      <label for="daily_rate">daily rate:</label>
      <input id="daily_rate" type="number" placeholder="Enter Price" name="daily_rate" class="form-control"/>
      <div class="form-group"></div>
      <label for="weekend_rate">weekend rate:</label>
      <input id="weekend_rate" type="number" placeholder="Enter Price" name="weekend_rate" class="form-control"/>
      <div class="form-group"></div>
      <label for="weekly_rate">weekly rate:</label>
      <input id="weekly_rate" type="number" placeholder="Enter Price" name="weekly_rate" class="form-control"/>
      <div class="form-group"></div>
      <label for="monthly_rate">monthly rate:</label>
      <input id="monthly_rate" type="number" placeholder="Enter Price" name="monthly_rate" class="form-control"/>
     
      <div class="form-group"></div>
      <label for="image">Image:</label>
      <input id="image" type="file" name="image" class="form-control"/><br/>
      <button type="button" class="btn btn-primary">submit</button>
    </form>
  </div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>  
<script>
    console.log('test')
    $(".btn-primary").on('click', function () {
        console.log('tttt')
        var data = $("#form1 :input").serializeArray();
        $.ajax({
            type: "post",
            url: "http://localhost:3000/api/car",
            data: data,
            success: function (data) {
             
                console.log(data);
                if (data) {
                    alert("Data Added, you will redirect to cars List");
                    window.location = "http://localhost:3000/admin/car";
                }
            },
            error: function() {
                console.log('err');
            }
        });
    });
  </script>